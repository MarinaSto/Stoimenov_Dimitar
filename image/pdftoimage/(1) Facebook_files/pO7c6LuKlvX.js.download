if (self.CavalryLogger) { CavalryLogger.start_js(["tlnxk"]); }

__d("EmojiDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ExplicitRegistrationDispatcher"))({strict:!1})}),null);
__d("EmojiActions",["EmojiDispatcher","keyMirror"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("keyMirror")({CHANGE_CURRENT_CATEGORY:null,CHANGE_EMOJI_COLOR:null,EMOJI_COLOR_READY:null,GET_EMOJI_COLOR:null,TRAY_DATA_READY:null,UPDATE_TRAY_DATA:null});var g={Types:a,loadedTrayData:function(){b("EmojiDispatcher").dispatch({type:g.Types.TRAY_DATA_READY})},updateTrayData:function(){b("EmojiDispatcher").dispatch({type:g.Types.UPDATE_TRAY_DATA})},changeEmojiColor:function(a){b("EmojiDispatcher").dispatch({type:g.Types.CHANGE_EMOJI_COLOR,color:a})},changeCurrentCategory:function(a){b("EmojiDispatcher").dispatch({type:g.Types.CHANGE_CURRENT_CATEGORY,currentCategory:a})},getEmojiColor:function(){b("EmojiDispatcher").dispatch({type:g.Types.GET_EMOJI_COLOR})},emojiColorReady:function(a){b("EmojiDispatcher").dispatch({type:g.Types.EMOJI_COLOR_READY,color:a})}};e.exports=g}),null);
__d("XMessagingGetEmojiRecentUsageController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/emoji_recent_usage/",{})}),null);
__d("EmojiServerRequests",["Promise","AsyncRequest","XMessagingGetEmojiRecentUsageController"],(function(a,b,c,d,e,f){"use strict";a={fetchTrayData:function(a){return g(b("XMessagingGetEmojiRecentUsageController").getURIBuilder().getURI(),a,!0)}};function g(a,c,d){return new(b("Promise"))(function(c,e){return new(b("AsyncRequest"))(a).setHandler(function(a){return c(a.getPayload())}).setAllowCrossPageTransition(d).send()}).then(c)}e.exports=a}),null);
__d("XMessagingGetEmojiColorPrefController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/get_emoji_color/",{})}),null);
__d("XMessagingSetEmojiColorPrefController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/set_emoji_color/",{})}),null);
__d("EmojiState",["fbt","AsyncRequest","EmojiActions","EmojiServerRequests","MessengerSupportedEmojiUtils","XMessagingGetEmojiColorPrefController","XMessagingSetEmojiColorPrefController","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=null,i=null,j;a={onTrayDataReady:function(a){j||(j=b("EmojiServerRequests").fetchTrayData(function(a){i=a})),b("promiseDone")(j,function(){a(),b("EmojiActions").loadedTrayData()})},getEmojiColor:function(){var a=b("XMessagingGetEmojiColorPrefController").getURIBuilder().getURI();new(b("AsyncRequest"))(a).setMethod("POST").setAllowCrossPageTransition(!0).setHandler(function(a){b("EmojiActions").emojiColorReady(a.payload)}).send()},changeEmojiColor:function(a){var c=b("XMessagingSetEmojiColorPrefController").getURIBuilder().getURI();new(b("AsyncRequest"))(c).setMethod("POST").setData({color:a}).send()},addMRUCategory:function(){if(i){var a=i.map(function(a){return b("MessengerSupportedEmojiUtils").getSupportedEmojiCodesArray(a)}).filter(function(a){return!!a});h={name:g._("Inviati di recente"),emojis:a,icon:[128340]};b("EmojiActions").updateTrayData();i=null}},_addRecentlyUsedEmoji:function(a){__p&&__p();var c=h&&h.emojis;if(!c)return;var d=function(b){var d=a[b];for(var b=0;b<c.length;++b)if(c[b].length==d.length&&c[b].every(function(a,b){return a===d[b]})){c.splice(b,1);break}c.unshift(d)};for(var e=0;e<a.length;++e)d(e);b("EmojiActions").updateTrayData()},getMRUCategory:function(){h||this.addMRUCategory();return h},updateRecentlyUsed:function(a){if(!h){this.addMRUCategory();return}this._addRecentlyUsedEmoji(a)}};e.exports=a}),null);
__d("EmojiStateStore",["EmojiActions","EmojiDispatcher","EmojiState","FluxStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("EmojiDispatcher"))||this;b("EmojiState").getEmojiColor();c.$EmojiStateStore2=!1;return c}var d=c.prototype;d.getState=function(){var a=b("EmojiState").getMRUCategory();return{currentCategory:this.$EmojiStateStore4,emojiColor:this.$EmojiStateStore3,mruCategory:[a],threadID:this.$EmojiStateStore1,trayDataReady:this.$EmojiStateStore2}};d.__onDispatch=function(a){__p&&__p();var c=b("EmojiActions").Types;switch(a.type){case c.GET_EMOJI_COLOR:b("EmojiState").getEmojiColor();break;case c.EMOJI_COLOR_READY:this.$EmojiStateStore3=a.color;break;case c.CHANGE_EMOJI_COLOR:b("EmojiState").changeEmojiColor(a.color);this.$EmojiStateStore3=a.color;break;case c.CHANGE_CURRENT_CATEGORY:this.$EmojiStateStore4=a.currentCategory;break;case c.UPDATE_TRAY_DATA:break;case c.TRAY_DATA_READY:this.$EmojiStateStore2=!0;break}this.__emitChange()};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("MessengerPlatformClientTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppID=function(a){this.$1.appid=a;return this};c.setAppversion=function(a){this.$1.appversion=a;return this};c.setClientUserID=function(a){this.$1.client_userid=a;return this};c.setClienttime=function(a){this.$1.clienttime=a;return this};c.setCountry=function(a){this.$1.country=a;return this};c.setDeviceid=function(a){this.$1.deviceid=a;return this};c.setExtraClientData=function(a){this.$1.extra_client_data=a;return this};c.setIsemployee=function(a){this.$1.isemployee=a;return this};c.setLoggingToken=function(a){this.$1.logging_token=a;return this};c.setName=function(a){this.$1.name=a;return this};c.setRawclienttime=function(a){this.$1.rawclienttime=a;return this};c.setSessionid=function(a){this.$1.sessionid=a;return this};c.setThreadID=function(a){this.$1.thread_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={appid:!0,appversion:!0,client_userid:!0,clienttime:!0,country:!0,deviceid:!0,extra_client_data:!0,isemployee:!0,logging_token:!0,name:!0,rawclienttime:!0,sessionid:!0,thread_id:!0,time:!0,weight:!0};e.exports=a}),null);
__d("MessengerApprovalQueueUtils",["MercuryIDs","MessengerAdminGroupUtils","MessengerParticipants.re","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={getApprovalQueueParticipants:function(a,c){__p&&__p();var d=this;if(!a)return;if(b("MessengerAdminGroupUtils").isAdminRequired(a)){var e=a.group_approval_queue&&a.group_approval_queue.map(function(a){return[b("MercuryIDs").getParticipantIDFromUserID(a.requester.id),a]}),f=e&&new Map(e);f&&b("MessengerParticipants.re").getMulti(Array.from(f.keys()),function(a){a=Object.values(a);a=a;c(b("immutable").Map(a.map(function(a){return[a.id,d._constructApprovalRequestInfo(a,f)]})))})}else a.approval_queue_ids&&b("MessengerParticipants.re").getMulti(a.approval_queue_ids,function(a){c(b("immutable").Map(a))})},_constructApprovalRequestInfo:function(a,b){b=b.get(a.id);return{fbid:a.fbid,id:a.id,image_src:a.image_src,is_messenger_user:!!a.is_messenger_user,name:a.name,inviter_id:b&&b.inviter.id,requester_id:b&&b.requester.id,request_source:b&&Number(b.request_source),request_timestamp:b&&b.request_timestamp}}};e.exports=a}),null);
__d("XSettingsEmployeeBetaController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/settings/employee/beta_mode/",{enabled:{type:"Bool",defaultValue:!1},redirect:{type:"Bool",defaultValue:!0}})}),null);
__d("MessengerBugNub.react",["cx","fbt","ix","AsyncRequest","CurrentUser","Image.react","Link.react","MessengerEnvironment","MessengerMenu.react","MessengerPopoverMenu.react","React","Tooltip","URI","WorkModeConfig","XSettingsEmployeeBetaController","gkx","goURI"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=i("86836"),l=i("86835"),m=i("86837");a=b("React").PropTypes;var n=b("MessengerMenu.react").Item,o=b("MessengerMenu.react").Separator,p=h._("Segnala un bug");c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("CurrentUser").isEmployee()||this.props.allowExternalReporting&&b("gkx")("984969")?b("React").jsxs("div",{className:"_4_xe"+(b("gkx")("678606")?" _2jqn":""),children:[this.$1(),this.$2()]}):null};d.$2=function(){var a=b("CurrentUser").isEmployee()?"/ajax/bugs/employee_report":"/ajax/bugs/report";return b("React").jsx(b("Link.react"),babelHelpers["extends"]({"aria-label":p,href:"#",ajaxify:a,className:"_1fr8",rel:"dialog"},b("Tooltip").propsFor(p),{children:b("React").jsx("div",{className:"_1gng",children:b("React").jsx(b("Image.react"),{src:k})})}))};d.$1=function(){var a=this.props.isBetaEnabled?l:m,c=h._("Preferenze interne");return b("CurrentUser").isEmployee()?b("React").jsx(b("MessengerPopoverMenu.react"),babelHelpers["extends"]({className:"_1fr8",menu:this.$3()},b("Tooltip").propsFor(c),{children:b("React").jsx(b("Link.react"),{"aria-haspopup":"true","aria-label":c,className:"_1gng",href:"#",role:"button",children:b("React").jsx(b("Image.react"),{src:a})})})):null};d.$3=function(){__p&&__p();var a=this,c=null;if(this.props.unixName){var d=this.props.unixName+".sb";c=b("React").jsx(n,{label:"Sandbox",onclick:function(){return a.$4(d)}})}return b("React").jsxs(b("MessengerMenu.react"),{children:[b("React").jsx(n,{label:"Public",onclick:function(){return a.$5(!1)}}),b("React").jsx(n,{label:"Beta",onclick:function(){return a.$5(!0)}}),b("React").jsx(o,{}),b("React").jsx(n,{label:"C1 (trunkstable)",onclick:function(){return a.$4()}}),b("React").jsx(n,{label:"Intern",onclick:function(){return a.$4("intern")}}),b("React").jsx(n,{label:"Production",onclick:function(){return a.$4("prod")}}),c]})};d.$5=function(a){var c=b("XSettingsEmployeeBetaController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(c).setData({enabled:a}).setMethod("POST").setAllowCrossPageTransition(!0).send()};d.$4=function(a){var c=b("MessengerEnvironment").facebookdotcom?".facebook.com":".messenger.com",d=b("WorkModeConfig").company_subdomain;d=d?d:"www";d=d+(a?"."+a:"")+c;b("goURI")((j||(j=b("URI"))).getRequestURI().getQualifiedURI().setDomain(d))};return c}(b("React").PureComponent);c.propTypes={isBetaEnabled:a.bool,unixName:a.string};e.exports=c}),null);
__d("createContentStateForTextWithMessengerEmoji",["ContentState","DraftModifier","MessengerSupportedEmojiUtils","insertMessengerEmojiIntoContentState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var c=b("ContentState").createFromText("");while(a){var d=b("MessengerSupportedEmojiUtils").getEmojiMatchObj(a);if(d){var e=d.offset+d.length,f=a.substr(0,d.is_supported?d.offset:e);e=a.substr(e);c=b("DraftModifier").insertText(c,c.getSelectionAfter(),f);d.is_supported&&(c=b("insertMessengerEmojiIntoContentState")(d.emoji_key,c,c.getSelectionAfter(),c.getFirstBlock().getInlineStyleAt(0)));a=e}else break}a&&(c=b("DraftModifier").insertText(c,c.getSelectionAfter(),a));return c}e.exports=a}),null);
__d("handlePastedTextForMessengerEmoji",["DraftModifier","EditorState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e){c=c-a;a=e.getSelection();a.isCollapsed()||(c+=1+a.getEndOffset()-a.getStartOffset());if(c<=0)return e;d=d.slice(0,c);c=a.isCollapsed()?b("DraftModifier").insertText(e.getCurrentContent(),a,d,e.getCurrentInlineStyle()):b("DraftModifier").replaceText(e.getCurrentContent(),a,d,e.getCurrentInlineStyle());return b("EditorState").push(e,c,"insert-characters")}e.exports=a}),null);
__d("MessengerTextWithEmojiInput.react",["cx","CompositeDraftDecorator","DraftEditor.react","EditorState","MessengerEmojiSpan.react","React","XUICloseButton.react","createContentStateForTextWithMessengerEmoji","getEntityMatcher","getVisibleValueForContentStateWithMessengerEmoji","handleBeforeInputForMessengerEmoji","handlePastedTextForMessengerEmoji","joinClasses","setImmediate"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$6=function(a){if(a!==d.state.editorState){var b=!a.getCurrentContent().hasText();d.setState({editorState:a,isEmpty:b});d.props.onChange&&d.props.onChange(a)}},d.$3=function(a,c){if(d.props.maxLength&&d.props.maxLength<=d.getValue().length&&c.getSelection().isCollapsed())return"handled";a=b("handleBeforeInputForMessengerEmoji")(c,a);if(a===c)return"not-handled";d.setState({editorState:a});return"handled"},d.$4=function(a,c,e){c=d.props.maxLength;if(c){c=b("handlePastedTextForMessengerEmoji")(d.getValue().length,c,a,e);d.setState({editorState:c});return"handled"}return"not-handled"},d.$5=function(a,b){if(d.props.onReturn){d.props.onReturn(a,b);return"handled"}return"not-handled"},d.$8=function(){var a=d.$1("");d.setState({editorState:a});d.props.onChange&&d.props.onChange(a)},d.state={editorState:d.$1(d.props.initialValue),isEmpty:!d.props.initialValue||d.props.initialValue.length===0},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(a){return b("EditorState").createWithContent(b("createContentStateForTextWithMessengerEmoji")(a||""),this.$2())};d.componentDidMount=function(){this.props.disableAutoFocus!==!0&&b("setImmediate")(this.focusInput.bind(this))};d.render=function(){var a=this.props.placeholder&&this.props.placeholder.toString();return b("React").jsxs("div",{className:b("joinClasses")(this.props.className,"_30e7"),children:[b("React").jsx("div",{className:"_5j5f _3oh-",children:b("React").jsx(b("DraftEditor.react"),{editorState:this.state.editorState,handleBeforeInput:this.$3,handlePastedText:this.$4,handleReturn:this.$5,onChange:this.$6,placeholder:a,ref:"input",spellCheck:!1,stripPastedStyles:!0,textAlignment:"left"})}),this.props.showLengthIndicator&&this.props.maxLength?this.$7():null,b("React").jsx(b("XUICloseButton.react"),{size:"small",onClick:this.$8,className:(this.state.isEmpty?"hidden_elem":"")+" _5j5l"})]})};d.$7=function(){return this.getValue().length!==0?b("React").jsxs("div",{className:"_32y6",children:[this.getValue().length,"/",this.props.maxLength]}):b("React").jsx("div",{className:"_32y6"})};d.$2=function(){return new(b("CompositeDraftDecorator"))([{strategy:b("getEntityMatcher")(function(a){return a.getType()==="EMOJI"}),component:b("MessengerEmojiSpan.react")}])};d.getValue=function(){var a=this.state.editorState.getCurrentContent();return b("getVisibleValueForContentStateWithMessengerEmoji")(a)};d.focusInput=function(){this.refs.input.focus(),this.$6(b("EditorState").moveFocusToEnd(this.state.editorState))};return c}(b("React").PureComponent);c.propTypes={disableAutoFocus:a.bool,onReturn:a.func,maxLength:a.number,onChange:a.func,placeholder:a.node,initialValue:a.string,showLengthIndicator:a.bool};e.exports=c}),null);
__d("MessengerTextWithEmojiInputReact.bs",["ReasonReact.bs","bs_js_null_undefined","MessengerTextWithEmojiInput.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i){var j;return b("ReasonReact.bs").wrapJsForReason(b("MessengerTextWithEmojiInput.react"),{className:(j=b("bs_js_null_undefined")).fromOption(a),onReturn:j.fromOption(c),maxLength:j.fromOption(d),onChange:j.fromOption(e),placeholder:j.fromOption(f),initialValue:j.fromOption(g),showLengthIndicator:j.fromOption(h)},i)}f.make=a}),null);
__d("MessengerEditNicknameDialogReact.bs",["cx","fbt","bs_curry","React","MercuryIDs","bs_caml_option","ReasonReact.bs","MessengerDialogReact.bs","MessengerDialogBody.react","MessengerDialogHeaderReact.bs","MessengerDialogFooter.react","MessengerTextWithEmojiInputReact.bs","MessagingThreadCustomizationConfig"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("ReasonReact.bs").reducerComponent("MessengerEditNicknameDialogReact");function j(a,c){c[1][0][0]=a==null?void 0:b("bs_caml_option").some(a);return 0}function a(a,c,d,e,f,g){__p&&__p();var k=function(f,g){f=g[1][0][0];g=f!==void 0?b("bs_caml_option").valFromOption(f).getValue().trim():void 0;f=0;g!==void 0&&!(g===""&&c===void 0)&&(f=1);if(f===1&&g!==c){f=b("MercuryIDs").getUserIDFromParticipantID(a.id);f==null||b("bs_curry")._1(d,[f,g])}return b("bs_curry")._1(e,!1)};return[i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],function(d){var e=a.name,g=b("MercuryIDs").getUserIDFromParticipantID(a.id),i,l=0;g==null||g!==f?l=1:i=h._("Inserisci il tuo soprannome");l===1&&(i=h._("Modifica soprannome per {personName}",[h._param("personName",e)]));return b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Dialog.make("_2c1u",void 0,void 0,void 0,void 0,void 0,void 0,400,void 0,[b("React").createElement(b("MessengerDialogHeaderReact.bs").make,{children:i}),b("React").createElement(b("MessengerDialogBody.react"),{children:b("React").createElement(b("React").Fragment,void 0,b("React").createElement("div",{className:"_-bo"},h._("Tutte le persone presenti in questa conversazione vedranno il contenuto.")),b("ReasonReact.bs").element(void 0,b("bs_curry")._1(d[0],j),b("MessengerTextWithEmojiInputReact.bs").make("_2c1v",b("bs_curry")._1(d[0],k),b("MessagingThreadCustomizationConfig").maxNicknameLength,void 0,e,c,void 0,[])))}),b("React").createElement(b("MessengerDialogFooter.react"),{children:b("React").createElement(b("React").Fragment,void 0,b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").CancelButton.make(void 0,[])),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button.make(void 0,h._("Salva"),void 0,void 0,b("bs_curry")._1(d[0],k),0,void 0,void 0,void 0,[])))})]))},function(a){return[[void 0]]},i[10],function(a,b){return 0},i[12]]}f.component=i;f.setInput=j;f.make=a}),null);
__d("MessengerEditNicknamesDialogReact.bs",["cx","fbt","bs_curry","React","bs_js_dict","immutable","MercuryIDs","ReasonReact.bs","ImmutableObject","MessengerDialogs.bs","MessengerDialogReact.bs","MessengerAdminGroupUtils","MessengerDialogBodyReact.bs","MessengerDialogTitleReact.bs","MessengerDialogHeaderReact.bs","MessengerContactListReact.re","MessengerEditNicknameDialogReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function i(a,c){var d=b("MercuryIDs").getUserIDFromParticipantID(c.id),e;if(d==null||a==null)e=[c.name,""];else{a=b("bs_js_dict").get(a,d);e=a!==void 0?[a,c.name]:[c.name,""]}return new(b("ImmutableObject"))({alias:c.vanity,uid:c.id,photo:c.image_src,title:e[0],subtitle:e[1],type:c.user_type,isMessengerUser:c.is_messenger_user,href:c.href,isWorkUser:void 0,timezone:void 0,participants:void 0,thread:void 0,workForeignEntityInfo:c.work_foreign_entity_info})}var j=b("ReasonReact.bs").statelessComponent("MessengerEditNicknamesDialogReact");function k(a,c,d,e,f,g){__p&&__p();var k=function(a){if(a)return 0;else{b("bs_curry")._1(e,0);return b("MessengerDialogs.bs").removeAllDialogs(0)}},l=function(a,e){e=b("MercuryIDs").getUserIDFromParticipantID(a.id);var g=c.custom_nickname,h=!(e==null)&&!(g==null)?b("bs_js_dict").get(g,e):void 0;return b("MessengerDialogs.bs").showDialog(function(c){return b("ReasonReact.bs").element(void 0,void 0,b("MessengerEditNicknameDialogReact.bs").make(a,h,d,k,f,[]))})};return[j[0],j[1],j[2],j[3],j[4],j[5],j[6],j[7],function(d){__p&&__p();var e,g;d=a.filter(function(a,d,e){__p&&__p();if(a==null)return!1;else{d=b("MessengerAdminGroupUtils").isJoinableThread(c);e=b("MercuryIDs").getUserIDFromParticipantID(a.id);if(d)if(e==null)return!1;else return e===f;else return!0}}).toArray();var j=(e=b("React")).createElement(e.Fragment,void 0,(g=b("ReasonReact.bs")).element(void 0,void 0,b("MessengerDialogReact.bs").CancelButton.make(void 0,[])),e.createElement(b("MessengerDialogTitleReact.bs").make,{children:h._("Modifica soprannomi")}),e.createElement("div",{className:"_8c_i"})),m=c.custom_nickname;return g.element(void 0,void 0,b("MessengerDialogReact.bs").Dialog.make("_4h9n",void 0,k,void 0,void 0,void 0,"default",350,void 0,[e.createElement(b("MessengerDialogHeaderReact.bs").make,{children:j}),g.element(void 0,void 0,b("MessengerDialogBodyReact.bs").make("_4h9o",[g.element(void 0,void 0,b("MessengerContactListReact.re").make(void 0,void 0,void 0,function(a){return i(m,a)},!0,void 0,b("immutable").OrderedMap([[[null],d]]),void 0,l,"_44kr",f,c,[]))]))]))},j[9],j[10],j[11],j[12]]}a=b("ReasonReact.bs").wrapReasonForJs(j,function(a){return k(a.participants,a.thread,a.onSave,a.onClose,a.viewer,[])});f.fromMercuryParticipant=i;f.component=j;f.make=k;f.jsComponent=a}),null);
__d("MessengerSearchFunnelLoggerConstants",[],(function(a,b,c,d,e,f){"use strict";e.exports={NAME:"WWW_MESSENGER_SEARCH_SESSION_FUNNEL",FETCHED_STATE_IMPRESSION_LIST:"fetched_state_impression_list",LOADING_STATE_IMPRESSION_LIST:"loading_state_impression_list",SEND_SERVER_REQUEST:"send_server_request",WWW_SIDEBAR_TAG:"www",MESSENGER_DOT_COM:"messenger_dot_com",UNIVERSAL_SEARCH:"universal_search",USER_CONTACT:"user_contact",USER_NON_CONTACT:"user_non_contact",GROUP:"group",PAGE:"page",GAME:"game",TINCAN:"tincan",MESSAGE:"message",SMS:"sms",SMS_GROUP:"sms_group",COWORKER:"coworker",OTHER:"other"}}),null);
__d("WIGCircleButton.react",["React","TetraCircleButton.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("React").jsx(b("TetraCircleButton.react"),babelHelpers["extends"]({ref:c},a))}e.exports=b("React").forwardRef(a)}),null);
__d("WIGDeferredPopoverTrigger.react",["CometDeferredPopoverTrigger.react","React"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("React").jsx(b("CometDeferredPopoverTrigger.react"),babelHelpers["extends"]({},a))}e.exports=a}),null);
__d("WIGTooltip.react",["CometTooltip.react","React"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("React").jsx(b("CometTooltip.react"),babelHelpers["extends"]({},a))}e.exports=a}),null);
__d("MessengerThreadlistReact.bs",["cx","csx","fbt","FBID.bs","bs_array","bs_block","bs_curry","React","Parent","gkx","bs_js_dict","qex","bs_belt_Map","bs_belt_Set","ReactDOM","ThreadId.bs","debounce","LinkReact.bs","UserAgent","immutable","bs_belt_Array","bs_caml_array","MercuryIDs","setTimeout","bs_belt_Option","bs_caml_option","CurrentUser","ReasonReact.bs","MessagingTag","MessengerView","ParticipantId.bs","bs_caml_primitive","MercuryFilters.bs","MessengerState.bs","MessengerConfig","MessengerActions","MercuryThreadInfo","KeyEventController","MercuryThreadActions","MessageRequestLogger.bs","SubscriptionsHandler","ChatSidebarSheetReact.bs","MessengerSpinnerReact.bs","MessengerGalahadGating.bs","MessengerSearchActions","QuickPerformanceLogger","MessengerTypeaheadUtils","MessengerComposerActions","MercuryTypeaheadConstants","WorkGalahadNavHeaderReact.bs","MessengerSearchFunnelState","WorkChatThreadlistTabsReact.bs","WorkGalahadNewMessageRowReact.bs","MessengerDotComAndInboxM4Check.bs","MessengerNewMessagesNoticeReact.bs","MessengerThreadlistLinkRowReact.bs","MessengerFlexScrollableAreaReact.bs","WorkchatThreadListInviteRowReact.bs","MessengerMessageRequestsInfoReact.bs","MessengerThreadListGridWrapperReact.bs","getMessengerThreadlistWorkDenseMode","MessengerGraphQLSearchTypeaheadReact.bs","MessengerSearchFunnelLoggerConstants","MessengerThreadlistRowContainerReact.bs","MessengerThreadlistNewMessageRowReact.bs","WorkGalahadChatsThreadlistHeaderReact.bs","MessengerThreadlistMessageRequestsRowReact.bs","MessengerUniversalSearchFunnelLoggerConstants","WorkGalahadChatPinnedThreadsInlineEditor.react","BootloadableMessengerUniversalSearchFunnelLogger.bs"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("qex")._("1097094");function k(a,c,d){if(d!==void 0&&a.length>0&&c.length>0){a=b("bs_caml_array").caml_array_get(a,0);c=b("bs_caml_array").caml_array_get(c,0);if(a.unread_count>0&&a.thread_id!==b("bs_caml_option").valFromOption(d)&&a!==c)return b("MercuryThreadInfo").isMuted(a);else return!1}else return!1}function l(a,c){var d=a.ctrlKey,e=a.metaKey,f=a.shiftKey,g=b("KeyEventController").filterEventTypes(a,c);c=b("KeyEventController").filterEventTargets(a,c);a=b("Parent").bySelector(a.target,"._150g");if(d||e||f||!(g&&c))return!1;else return(a==null?void 0:b("bs_caml_option").some(a))===void 0}function m(a,c){__p&&__p();var d=a.ctrlKey,e=a.metaKey,f=b("UserAgent").isPlatform("Mac OS X"),g=b("UserAgent").isPlatform("iOS");c=b("KeyEventController").filterEventTypes(a,c);a=b("Parent").bySelector(a.target,"._150g");a=a==null?void 0:b("bs_caml_option").some(a);if(d)if(e||f||g||!c)return!1;else return a===void 0;else if(e)if(f)if(g||!c)return!1;else return a===void 0;else if(g&&c)return a===void 0;else return!1;else return!1}a=b("UserAgent").isPlatform("Mac OS X")||b("UserAgent").isPlatform("iOS")?"Cmd":"Ctrl";var n="K",o=a+" + K";function p(a,c){c[1][6][0]=a==null?void 0:b("bs_caml_option").some(a);return 0}function q(a,c,d){var e=d.findIndex(function(c){if(a!==void 0)return c.thread_id===b("bs_caml_option").valFromOption(a);else return!1});e=b("bs_caml_primitive").caml_int_min(b("bs_caml_primitive").caml_int_max(e+c|0,0),d.length-1|0);return b("bs_caml_array").caml_array_get(d,e).thread_id}function r(a,c){a.preventDefault();a=c[1][4][0];if(a!==void 0)if(j){b("MessengerSearchActions").enterUniversalSearch();return 0}else return b("bs_caml_option").valFromOption(a).focusInput();else return 0}function s(a,c){c[1][4][0]=a==null?void 0:b("bs_caml_option").some(a);return 0}function t(a,c){var d=c[1];b("setTimeout")(function(c){c=d[6][0];if(c!==void 0){b("MessengerTypeaheadUtils").scrollEntryIntoView(a,b("bs_caml_option").valFromOption(c));return 0}else return 0},0);return 0}function u(a){a.preventDefault();b("MessengerActions").changeFolder(b("MessagingTag").OTHER);return 0}function v(a){a.preventDefault();b("MessengerActions").changeFilter(b("MercuryFilters.bs").all);b("MessengerActions").changeFolder(b("MessagingTag").INBOX);return 0}function w(a,c,d,e){__p&&__p();var f=[];Object.keys(c).forEach(function(d){__p&&__p();d=b("bs_js_dict").get(c,d);if(d!==void 0){d=d;var e=d[1];d=d[0];if(d==null)return 0;else{d=b("ReactDOM").findDOMNode(d).getBoundingClientRect();if(d.top>a.top-10&&d.bottom<a.bottom+10){f.push({threadID:e.thread_id,unread:e.unread_count>0});return 0}else return 0}}else return 0});if(f.length>0){var g=f.map(function(a){return b("MercuryIDs").getThreadKeyfromThreadIDUserID(a.threadID,e)});g=g.join(",");return b("MessageRequestLogger.bs").logItemImpression(f,g,d)}else return 0}var x=b("debounce")(function(a){__p&&__p();var c=a[1];a=a[0];var d=a[6][0];if(d!==void 0){d=b("bs_caml_option").valFromOption(d).getArea();if(d==null)return 0;else{d=d.getElement().getBoundingClientRect();w(d,a[8],b("MessagingTag").PENDING,c);return w(d,a[9],b("MessagingTag").OTHER,c)}}else return 0},500);function y(a,c,d){__p&&__p();d=d[1];if(a.folder===b("MessagingTag").PENDING){d[8][a.thread_id]=[c,a];return 0}else if(a.folder===b("MessagingTag").OTHER){d[9][a.thread_id]=[c,a];return 0}else return 0}function z(a,c){return b("bs_curry")._1(a[3],b("bs_block").__(2,[c]))}function A(a,c,d,e,f,g,h,i,j){__p&&__p();var k=d[1];a=a!==void 0?b("bs_caml_option").valFromOption(a)===j.thread_id:!1;var l=k[0];l=l!==void 0;var m=k[0];m=m!==void 0?b("bs_caml_option").valFromOption(m)===j.thread_id:!1;l=a?l&&!m?!1:!0:m?!0:!1;var n=j.folder===b("MessagingTag").PENDING||j.folder===b("MessagingTag").OTHER;return b("ReasonReact.bs").element(j.thread_id,n?b("bs_curry")._1(d[0],function(a,b){return y(j,a,b)}):function(a){return 0},b("MessengerThreadlistRowContainerReact.bs").make(e,a,m,h,k[2],i,l,b("bs_curry")._1(d[1][21],[d,z]),b("bs_curry")._1(d[1][20],[d,t]),j,c,g,f,[]))}function B(a,c){__p&&__p();c=c[1];var d=a[2],e=a[1],f=a[0],g=e==null?b("MessengerSearchFunnelLoggerConstants").OTHER:e===b("MercuryTypeaheadConstants").FRIEND_TYPE?b("MessengerSearchFunnelLoggerConstants").USER_CONTACT:e===b("MercuryTypeaheadConstants").NON_FRIEND_TYPE?b("MessengerSearchFunnelLoggerConstants").USER_NON_CONTACT:e===b("MercuryTypeaheadConstants").FB4C_TYPE?b("MessengerSearchFunnelLoggerConstants").COWORKER:e===b("MercuryTypeaheadConstants").GAME_TYPE?b("MessengerSearchFunnelLoggerConstants").GAME:e===b("MercuryTypeaheadConstants").INTERNAL_BOT_PAGE_TYPE||e===b("MercuryTypeaheadConstants").COMMERCE_PAGE_TYPE||e===b("MercuryTypeaheadConstants").MEETING_ROOM_PAGE_TYPE||e===b("MercuryTypeaheadConstants").PAGE_TYPE?b("MessengerSearchFunnelLoggerConstants").PAGE:e===b("MercuryTypeaheadConstants").THREAD_TYPE?b("MessengerSearchFunnelLoggerConstants").GROUP:e===b("MercuryTypeaheadConstants").MESSAGE_TYPE?b("MessengerSearchFunnelLoggerConstants").MESSAGE:b("MessengerSearchFunnelLoggerConstants").OTHER;if(d!==void 0){a=d;b("MessengerState.bs").getThreadMeta(b("CurrentUser").getID(),f,b("bs_curry").__1(a),null)}else g===b("MessengerSearchFunnelLoggerConstants").MESSAGE?b("MessengerSearchActions").searchForMessagesInAThread(f,c[3]):b("MessengerActions").selectThread(f,e);d=c[3];var h=d===""?b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_SURFACES.NULL_STATE:b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_SURFACES.TYPEAHEAD,i=b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_PAGES.FIRST,j=c[3],k=b("BootloadableMessengerUniversalSearchFunnelLogger.bs").FunnelLogger.logResultSelected;return b("bs_curry")._1(b("BootloadableMessengerUniversalSearchFunnelLogger.bs").Loadable.load,function(a){return k(j,f,g,h,i,a)})}var C=b("MessengerDotComAndInboxM4Check.bs").yes?"_3bll _6ybw":"_3bll",D=b("ReasonReact.bs").reducerComponent("MessengerThreadlistReact");function E(a,c,d,e,f,g,h,w,y,z,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,aa,W,ba){__p&&__p();var ca=T!==void 0?T:!0,X=function(d,e,f){__p&&__p();var g=f[1],a=g[10],c=g[11];d=typeof d==="number"?d!==0?a.length-1|0:(-a.length|0)-1|0:d[0];var h=e.altKey,i=b("Parent").bySelector(e.target,"._4rv3"),j=g[0],k=b("Parent").bySelector(e.target,"._1ht1");if(h&&!(i==null)){h=g[18];if(h)if(d===1&&a.length>0){b("MessengerActions").selectThread(b("bs_caml_array").caml_array_get(a,0).thread_id,null);return 0}else return 0;else{i=function(d,c){return c.findIndex(function(c){return c===b("bs_caml_array").caml_array_get(a,d)})};h=function(c,a,d){c=c;var e=!1;while(!e)b("bs_caml_array").caml_array_get(a,c).is_pinned===!1?e=!0:c=c+d|0;return c};var l=a.findIndex(function(c){var a=g[16];if(a!==void 0)return b("bs_caml_option").valFromOption(a)===c.thread_id;else return!1});if(l!==-1){var m=c.length>0;if(m){m=b("bs_caml_array").caml_array_get(c,c.length-1|0)===b("bs_caml_array").caml_array_get(a,l);m=m?!0:!1}else m=!1;var n=l===h(0,a,1);n=n?!0:!1;var o=b("bs_caml_array").caml_array_get(a,l).is_pinned,p,q=0;o?m?n?q=2:p=c.length===a.length?b("bs_caml_array").caml_array_get(a,l):d<0&&c.length>1?b("bs_caml_array").caml_array_get(c,c.length-2|0):c.length===1&&d<0?b("bs_caml_array").caml_array_get(a,l):(c.length===1&&d>0,b("bs_caml_array").caml_array_get(a,h(0,a,d))):n?q=2:p=i(l,c)===0&&d<0?b("bs_caml_array").caml_array_get(a,l):b("bs_caml_array").caml_array_get(c,i(l,c)+d|0):m?q=2:p=n?c.length>0&&d<0?b("bs_caml_array").caml_array_get(c,c.length-1|0):b("bs_caml_array").caml_array_get(a,h(l+d|0,a,d)):l===(a.length-1|0)&&d>0?b("bs_caml_array").caml_array_get(a,l):b("bs_caml_array").caml_array_get(a,l+d|0).is_pinned===!0?b("bs_caml_array").caml_array_get(a,h(l+d|0,a,d)):b("bs_caml_array").caml_array_get(a,l+d|0);q===2&&(p=b("bs_caml_array").caml_array_get(a,l+d|0));b("MessengerActions").selectThread(p.thread_id);g[14]&&l===0&&d===-1&&b("MessengerActions").changeDetailView(b("MessengerView").DETAIL.COMPOSE);if(l===(a.length-1|0))return b("bs_curry")._1(g[17],0);else return 0}else return 0}}if(j!==void 0&&!(k==null)){e.preventDefault();return b("bs_curry")._1(f[3],b("bs_block").__(3,[d]))}else return 0},Y=function(a,c){a.stopPropagation();b("MessengerComposerActions").exitComposeStateAbandonSearch();if(y){c=J.find(function(a){return a.unread_count===0});b("MessengerActions").selectThread(c!==void 0?c.thread_id:null,null);return 0}else return 0},da=function(a,c){a.preventDefault();return b("bs_curry")._1(F,0)},ea=function(a,c,d,e){__p&&__p();if(a!==void 0&&a)return null;else a=2;if(a===2&&c!==void 0&&c)return b("React").createElement("div",{className:"_19hf"},b("ReasonReact.bs").element(void 0,void 0,b("MessengerSpinnerReact.bs").make(void 0,void 0,void 0,void 0,[])));a=e[6][0];if(a!==void 0){b("bs_caml_option").valFromOption(a).isScrolledToBottom()&&b("bs_curry")._1(F,0);return null}else return b("React").createElement("div",{className:"_19hf"},b("ReasonReact.bs").element(void 0,void 0,b("LinkReact.bs").make(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"#",void 0,b("bs_curry")._1(d[0],da),void 0,void 0,void 0,void 0,void 0,-1,void 0,void 0,[i._("Mostra precedenti")])))},Z=R!==void 0?R:!1,fa=function(d,e){var g=b("immutable").Map(b("bs_array").map(function(d){return[b("MercuryIDs").getThreadFBIDFromThreadID(d.thread_id),A(a,L,e,f,c,M,Z,Q,d)]},d));d=b("immutable").List(b("bs_array").map(function(a){return b("MercuryIDs").getThreadFBIDFromThreadID(a.thread_id)},d));var h=b("getMessengerThreadlistWorkDenseMode")(Z);return b("React").createElement(b("React").Fragment,void 0,b("ReasonReact.bs").element(void 0,void 0,b("WorkGalahadNavHeaderReact.bs").make(i._("Chat fissate in alto"),i._("Trascina per riordinare"),b("bs_caml_option").some(b("WorkGalahadNavHeaderReact.bs").makeAction(i._("Salva"),function(a){return b("bs_curry")._1(e[3],7)},0)),void 0,void 0,[])),b("React").createElement(b("WorkGalahadChatPinnedThreadsInlineEditor.react"),{ids:d,renderedItemsByID:g,itemSize:h==null?"medium":"small",onChange:function(a){return b("bs_curry")._1(e[3],b("bs_block").__(4,[a]))}}))},$=function(a,c){__p&&__p();c=c[1][12];c=c!==void 0?b("bs_belt_Map").get(b("bs_caml_option").valFromOption(c),a.thread_id):void 0;a=a.thread_pin_timestamp;if(a==null)if(c!==void 0)return c;else return;else if(c!==void 0){c=c;var d=c>a;return d?c:a}else return a},ga=function(d,e){__p&&__p();if(d.length<1)return null;else{b("bs_array").stable_sort(function(a,b){a=$(a,e);b=$(b,e);if(a!==void 0)if(b!==void 0)return a-b|0;else return 1;else if(b!==void 0)return-1;else return 0},d);return b("ReasonReact.bs").element(void 0,void 0,b("MessengerThreadListGridWrapperReact.bs").make(i._("Conversazioni fissate in alto"),[e[1][13]?fa(d,e):d.map(function(b){return A(a,L,e,f,c,M,Z,Q,b)})]))}},ha=function(d){__p&&__p();if(J.length===0&&w===!1)if(b("MessengerDotComAndInboxM4Check.bs").yes&&H!==void 0){var g=H;if(g==="")return null;else{g=i._("Non abbiamo trovato nessuna corrispondenza per \"{query}\". Prova a verificare se sono presenti errori di battitura o a usare parole complete.",[i._param("query",g)]);return b("React").createElement("div",{className:"_8b0j"},b("React").createElement("span",{className:"_8b0k"},i._("Nessun messaggio trovato")),b("React").createElement("span",{className:"_8b0l"},g))}}else{if(f===b("MessagingTag").INBOX){g=e===b("MercuryFilters.bs").unread;g=g?i._("Nessun messaggio non letto trovato."):i._("Nessun messaggio trovato.")}else g=f===b("MessagingTag").PENDING?i._("Nessuna richiesta di messaggi trovata."):i._("Nessun messaggio filtrato trovato.");var h=f!==b("MessagingTag").INBOX||e!==b("MercuryFilters.bs").all;h=h?b("ReasonReact.bs").element(void 0,void 0,b("LinkReact.bs").make(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,v,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,[i._("Torna alle chat")])):null;return b("React").createElement("div",{className:"_3blk"},g,b("React").createElement("div",{className:C},h))}else return b("ReasonReact.bs").element(void 0,void 0,b("MessengerThreadListGridWrapperReact.bs").make(i._("Elenco conversazioni"),[J.map(function(e){if(e.is_pinned===!0&&(b("CurrentUser").isWorkUser()||b("MessengerConfig").MPT>0))return null;else return A(a,L,d,f,c,M,Z,Q,e)})]))},ia=function(a){__p&&__p();var c=function(d,e){var c=b("Parent").bySelector(e.target,"._1ht1");if(c==null)return 0;else{e.preventDefault();return b("bs_curry")._1(a[3],b("bs_block").__(1,[d]))}},d=new(b("SubscriptionsHandler"))(),e=b("CurrentUser").isWorkUser();e=e?[function(a,c){return b("KeyEventController").registerKey(a,c)},function(a,c,d){return b("KeyEventController").registerKey(a,c,d)}]:[function(a,c){return b("KeyEventController").registerKeyAcrossTransitions(a,c)},function(a,c,d){return b("KeyEventController").registerKeyAcrossTransitions(a,c,d)}];var f=e[1];e=e[0];var g=[-1],h=[1],i=[-5],j=[5];d.addSubscriptions(b("bs_curry")._3(f,"UP",b("bs_curry")._1(a[0],function(a,b){return X(g,a,b)}),l),b("bs_curry")._3(f,"DOWN",b("bs_curry")._1(a[0],function(a,b){return X(h,a,b)}),l),b("bs_curry")._2(e,"PAGE_UP",b("bs_curry")._1(a[0],function(a,b){return X(i,a,b)})),b("bs_curry")._2(e,"PAGE_DOWN",b("bs_curry")._1(a[0],function(a,b){return X(j,a,b)})),b("bs_curry")._2(e,"HOME",b("bs_curry")._1(a[0],function(a,b){return X(0,a,b)})),b("bs_curry")._2(e,"END",b("bs_curry")._1(a[0],function(a,b){return X(1,a,b)})),b("bs_curry")._2(e,"LEFT",function(a){return c(!1,a)}),b("bs_curry")._2(e,"RIGHT",function(a){return c(!0,a)}),b("bs_curry")._3(f,n,b("bs_curry")._1(a[0],r),m));return b("bs_curry")._1(a[4],function(a){d.release();return 0})};return[D[0],D[1],D[2],function(c){__p&&__p();var d=c[6][0];d=d!==void 0?b("bs_caml_option").valFromOption(d).isScrolledToTop():!1;var e=k(J,c[10],a),h=0;if(d||!e)h=2;else if(H!==void 0){e=H;var i=b("bs_caml_array").caml_array_dup(c);i[19]=f;i[18]=y;i[17]=F;i[16]=a;i[14]=g;var j=K.length===0;i[13]=j?!1:c[13];i[11]=K;i[10]=J;i[5]=!0;j=e.length===0;i[3]=j?e:c[3];return i}if(h===2&&H!==void 0){j=H;e=b("bs_caml_array").caml_array_dup(c);e[19]=f;e[18]=y;e[17]=F;e[16]=a;e[14]=g;i=K.length===0;e[13]=i?!1:c[13];e[11]=K;e[10]=J;e[5]=c[5]&&!d;h=j.length===0;e[3]=h?j:c[3];return e}i=b("bs_caml_array").caml_array_dup(c);i[19]=f;i[18]=y;i[17]=F;i[16]=a;i[14]=g;d=K.length===0;i[13]=d?!1:c[13];i[11]=K;i[10]=J;return i},function(a){W!==void 0&&W===!0||ia(a);b("QuickPerformanceLogger").markerStartFromNavStart(25296901);b("QuickPerformanceLogger").markerEnd(25296901,"SUCCESS");return x([a[1],L])},function(a){__p&&__p();var c=a[1];a=a[0];c[1][19]!==f&&x([c[1],L]);var d=c[1][1]!==a[1][1];a=g&&!a[1][14];c=c[1][6][0];if(d&&a&&c!==void 0){b("bs_caml_option").valFromOption(c).scrollToTop();return 0}else return 0},D[6],D[7],function(a){__p&&__p();var c=a[1],j=c[5]&&!c[1],k=b("MessengerGalahadGating.bs").isGalahadUIEnabled(0),l=e===b("MercuryFilters.bs").unread;l=l?b("bs_belt_Array").keep(K,function(a){return a.unread_count>0}):K;var m=!c[1]&&b("MessengerConfig").MPT>0&&l.length>0&&f===b("MessagingTag").INBOX,n=b("CurrentUser").isWorkUser()&&!c[1]&&l.length>0&&(e===b("MercuryFilters.bs").all||e===b("MercuryFilters.bs").unread)&&f===b("MessagingTag").INBOX,q=i._("Conversazioni"),r=H!==void 0,v=N!==void 0?N:!1,x=O!==void 0?O:!1,A=P!==void 0?P:!1,C;if(V!==void 0)C=V;else{var D=b("CurrentUser").isWorkUser();if(D){D=c[1];C=i._("Cerca nelle chat{keyboard shortcut help}",[i._param("keyboard shortcut help",D?"":" ("+(o+")"))])}else C=i._("Cerca su Messenger")}var F;D=0;S!==void 0&&S?F=null:D=1;if(D===1){D=f===b("MessagingTag").INBOX;F=D?b("ReasonReact.bs").element(void 0,b("bs_curry")._1(a[0],s),b("MessengerGraphQLSearchTypeaheadReact.bs").make("_5iwm"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6-_b":"")+(c[1]||c[3].length!==0?" _5iwn":"")+" _150g",ca,!1,!1,!1,c[3]===""&&!r,r,c[1],function(d){if(r)return b("bs_curry")._1(a[3],1);else{d=c[3]==="";var e=d?b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_SURFACES.NULL_STATE:b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_SURFACES.TYPEAHEAD,f=b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_PAGES.FIRST,g=b("MessengerUniversalSearchFunnelLoggerConstants").END_ACTIONS.ABANDON,h=b("MessengerUniversalSearchFunnelLoggerConstants").END_REASONS.END_ACTION,i=b("BootloadableMessengerUniversalSearchFunnelLogger.bs").FunnelLogger.endFunnel;b("bs_curry")._1(b("BootloadableMessengerUniversalSearchFunnelLogger.bs").Loadable.load,function(a){return i(h,g,"",e,f,a)});return b("bs_curry")._1(a[3],2)}},function(c){c=c.target.value;return b("bs_curry")._1(a[3],b("bs_block").__(0,[c]))},function(c){d!==void 0&&b("bs_curry")._1(d,0);return b("bs_curry")._1(a[3],3)},function(c){if(r)return b("bs_curry")._1(a[3],4);else return b("bs_curry")._1(a[3],0)},b("bs_curry")._1(a[1][20],[a,t]),function(e,f){var d=c[3]==="",g=d?b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_SURFACES.NULL_STATE:b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_SURFACES.TYPEAHEAD;b("bs_curry")._2(a[0],B,[e,f,Q]);var h=b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_PAGES.FIRST,i=b("MessengerUniversalSearchFunnelLoggerConstants").END_ACTIONS.RESULT_SELECTED,j=b("MessengerUniversalSearchFunnelLoggerConstants").END_REASONS.END_ACTION,k=b("BootloadableMessengerUniversalSearchFunnelLogger.bs").FunnelLogger.endFunnel;return b("bs_curry")._1(b("BootloadableMessengerUniversalSearchFunnelLogger.bs").Loadable.load,function(a){return k(j,i,"",g,h,a)})},C,c[3],!0,!0,"_11_d"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _705p":"")+(c[3].length<2?" _8cg4":""),L,U,aa,[])):k?b("React").createElement("div",{className:"_7cyu"}):null}D=b("CurrentUser").isWorkUser()&&!c[1];C=k&&!c[1]&&!v;v=n||m;if(v){v=m||x;x=b("React").createElement("div",void 0,ga(l,a),v?null:b("React").createElement("div",{className:"_1s38"}))}else x=null;l=f===b("MessagingTag").PENDING;v=f===b("MessagingTag").INBOX&&E.length>0;var J=f===b("MessagingTag").PENDING&&!(b("CurrentUser").isWorkUser()&&b("gkx")("762398")),M=b("CurrentUser").isWorkUser()&&!k&&b("gkx")("678606");return b("React").createElement("div",{className:"_2xhi"+(b("MessengerConfig").MPT>0?" _6q63":"")},b("ReasonReact.bs").element(void 0,void 0,b("ChatSidebarSheetReact.bs").make("_p0g",L,[])),b("ReasonReact.bs").element(void 0,void 0,b("MessengerNewMessagesNoticeReact.bs").make(j,function(c){c.preventDefault();return b("bs_curry")._1(a[3],6)},void 0,[])),b("ReasonReact.bs").element(void 0,b("bs_curry")._1(a[0],p),b("MessengerFlexScrollableAreaReact.bs").make(function(c){return b("bs_curry")._1(a[3],5)},"_3_e8"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _7slg":"")+(b("MessengerDotComAndInboxM4Check.bs").yes&&c[7]?" _7slh":""),z,A,[F,D?b("ReasonReact.bs").element(void 0,void 0,b("WorkchatThreadListInviteRowReact.bs").make([])):null,C?b("ReasonReact.bs").element(void 0,void 0,b("WorkGalahadChatsThreadlistHeaderReact.bs").make(f,e,L,b("gkx")("932014")&&(n||m),c[13],function(d){if(c[13])return b("bs_curry")._1(a[3],7);else return b("bs_curry")._1(a[3],8)},[])):null,x,l?b("React").createElement("div",{className:"_5u15"},b("React").createElement(b("MessengerMessageRequestsInfoReact.bs").make,{})):null,b("React").createElement("div",{"aria-label":q,className:c[1]&&!r?"accessible_elem":"",role:"navigation"},v?b("React").createElement(b("MessengerThreadlistMessageRequestsRowReact.bs").make,{pendingFolderUnseenCount:G,newMessageRequestThreads:E,viewer:L}):null,g?k?b("ReasonReact.bs").element(void 0,void 0,b("WorkGalahadNewMessageRowReact.bs").make(y,b("bs_curry")._1(a[0],Y),[])):b("ReasonReact.bs").element(void 0,void 0,b("MessengerThreadlistNewMessageRowReact.bs").make(y,b("bs_curry")._1(a[0],Y),[])):null,ha(a),J?b("MessengerThreadlistLinkRowReact.bs").make(u):null,I!==void 0?b("bs_curry")._1(I,0):ea(h,w,a,c))])),M?b("React").createElement(b("WorkChatThreadlistTabsReact.bs").make,{filter:e,folder:f,view:b("MessengerView").MASTER.RECENT,viewer:L}):null)},function(c){return[void 0,!1,!1,b("bs_belt_Option").getWithDefault(H,""),[void 0],!1,[void 0],!1,{},{},J,K,void 0,!1,g,void 0,a,F,y,f,b("ReasonReact.bs").Props.memoize(function(a,b){return a[1]===b[1]},function(a){return b("bs_curry")._1(a[0][0],a[1])}),b("ReasonReact.bs").Props.memoize(function(a,b){return a[1]===b[1]},function(a){return b("bs_curry")._1(a[1],a[0])})]},D[10],function(c,d){__p&&__p();if(typeof c==="number")switch(c){case 0:var e=new(b("MessengerSearchFunnelState"))();e.setSessionID(0);var f=b("MessengerUniversalSearchFunnelLoggerConstants").INTERFACES.MESSENGER_DOT_COM,g=b("MessengerUniversalSearchFunnelLoggerConstants").ENTRY_SURFACES.INBOX,h=b("BootloadableMessengerUniversalSearchFunnelLogger.bs").FunnelLogger.startFunnel;b("bs_curry")._1(b("BootloadableMessengerUniversalSearchFunnelLogger.bs").Loadable.load,function(a){return h(g,f,e,a)});j&&b("MessengerSearchActions").enterUniversalSearch();var i=b("bs_caml_array").caml_array_dup(d);return b("bs_block").__(0,[(i[15]=b("bs_caml_option").some(e),i[1]=!0,i)]);case 1:i=b("bs_caml_array").caml_array_dup(d);return b("bs_block").__(0,[(i[1]=!1,i)]);case 2:i=b("bs_caml_array").caml_array_dup(d);return b("bs_block").__(0,[(i[3]="",i[1]=!1,i)]);case 3:i=b("bs_caml_array").caml_array_dup(d);return b("bs_block").__(0,[(i[15]=void 0,i[3]="",i)]);case 4:i=b("bs_caml_array").caml_array_dup(d);return b("bs_block").__(0,[(i[1]=!0,i)]);case 5:if(d[1])return 0;else{i=d[6][0];if(i!==void 0){i=b("bs_caml_option").valFromOption(i);var k=i.isScrolledToTop(),l=b("bs_caml_array").caml_array_dup(d);l[7]=!k;i=i.isScrolledToBottom();var m=d[5];if(i){if(k&&m){i=b("bs_caml_array").caml_array_dup(l);return b("bs_block").__(2,[(i[5]=!1,i),function(a){b("bs_curry")._1(F,0);return x([a[1],L])}])}return b("bs_block").__(2,[l,function(a){b("bs_curry")._1(F,0);return x([a[1],L])}])}else{if(k&&m){i=b("bs_caml_array").caml_array_dup(l);return b("bs_block").__(2,[(i[5]=!1,i),function(a){return x([a[1],L])}])}return b("bs_block").__(2,[l,function(a){return x([a[1],L])}])}}else return 0}break;case 6:k=b("bs_caml_array").caml_array_dup(d);return b("bs_block").__(2,[(k[5]=!1,k),function(a){a=a[1][6][0];if(a!==void 0){b("bs_caml_option").valFromOption(a).scrollToTop();return 0}else return 0}]);case 7:m=b("bs_caml_array").caml_array_dup(d);return b("bs_block").__(2,[(m[13]=!1,m),function(a){__p&&__p();b("bs_array").stable_sort(function(b,c){b=$(b,a);c=$(c,a);if(b!==void 0)if(c!==void 0)return b-c|0;else return 1;else if(c!==void 0)return-1;else return 0},K);b("MercuryThreadActions").getForFBID(b("CurrentUser").getID()).bulkPinThreadsUpdate(b("bs_belt_Array").map(K,function(a){return a.thread_id}));return 0}]);case 8:i=b("bs_caml_array").caml_array_dup(d);return b("bs_block").__(0,[(i[13]=!0,i)])}else switch(c.tag|0){case 0:var a=c[0],n=b("BootloadableMessengerUniversalSearchFunnelLogger.bs").FunnelLogger.logQueryChanged;b("bs_curry")._1(b("BootloadableMessengerUniversalSearchFunnelLogger.bs").Loadable.load,function(b){return n(a,b)});l=b("bs_caml_array").caml_array_dup(d);return b("bs_block").__(0,[(l[3]=a,l)]);case 1:k=b("bs_caml_array").caml_array_dup(d);return b("bs_block").__(0,[(k[2]=c[0],k)]);case 2:m=b("bs_caml_array").caml_array_dup(d);return b("bs_block").__(0,[(m[0]=b("bs_caml_option").some(c[0]),m)]);case 3:i=b("bs_caml_array").caml_array_dup(d);return b("bs_block").__(0,[(i[0]=b("bs_caml_option").some(q(d[0],c[0],J)),i)]);case 4:var o=b("bs_belt_Array").reduce(K,b("bs_belt_Map").make({cmp:b("FBID.bs").cmp}),function(a,c){return b("bs_belt_Map").set(a,b("MercuryIDs").getThreadFBIDFromThreadID(c.thread_id),c)});l=b("bs_belt_Array").keepMap(c[0].toArray(),function(a){return b("bs_belt_Map").get(o,a)});var p=[Date.now()];k=b("bs_belt_Array").reduce(l,b("bs_belt_Map").make(b("ThreadId.bs")),function(a,c){p[0]+=1;return b("bs_belt_Map").set(a,c.thread_id,p[0])});m=b("bs_caml_array").caml_array_dup(d);return b("bs_block").__(0,[(m[12]=b("bs_caml_option").some(k),m)])}},D[12]]}c=b("ReasonReact.bs").wrapReasonForJs(D,function(a){var c=a.blockedIds,d=a.isComposing;return E(b("bs_caml_option").nullable_to_opt(a.activeThreadID),c==null?b("bs_belt_Set").make(b("ParticipantId.bs")):c,b("bs_caml_option").nullable_to_opt(a.handleClear),a.filter,a.folder,d==null?!1:d,b("bs_caml_option").nullable_to_opt(a.isLoaded),b("bs_caml_option").nullable_to_opt(a.isLoading),a.isNewMessageActive,b("bs_caml_option").nullable_to_opt(a.maxHeight),a.newMessageRequestThreads,a.onLoadMoreRequest,a.pendingFolderUnseenCount,b("bs_caml_option").nullable_to_opt(a.queryString),b("bs_caml_option").nullable_to_opt(a.renderLoadMore),a.threads,b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(a.pinnedThreads),[]),a.viewer,a.readReceipts,b("bs_caml_option").nullable_to_opt(a.hideThreadListHeader),b("bs_caml_option").nullable_to_opt(a.hidePinnedThreadSeparator),b("bs_caml_option").nullable_to_opt(a.skipViewportHeightCalculationForScrollarea),b("bs_caml_option").nullable_to_opt(a.onOverrideSelect),b("bs_caml_option").nullable_to_opt(a.isDenseRow),b("bs_caml_option").nullable_to_opt(a.hideSearchBox),a.enableMessageSearch,b("bs_caml_option").nullable_to_opt(a.searchResultRowComponent),b("bs_caml_option").nullable_to_opt(a.searchPlaceholder),b("bs_caml_option").nullable_to_opt(a.searchInputPortalRef),b("bs_caml_option").nullable_to_opt(a.shouldDisableShortcuts),[])});d=b("bs_belt_Option").getWithDefault;e=25296901;g=10;f.shouldUseSearchRefactor=j;f.$pipe$question=d;f.qpl_module_page_load_mdotcom=e;f.hasNewUnreadMessages=k;f.filterKeyEvent=l;f.filterPlatformSpecificModifierKey=m;f.platformSpecificModiferKeyLabel=a;f.searchKeyboardMainKey=n;f.searchKeyboardShortcut=o;f.setScrollable=p;f.getFocusedThreadId=q;f.handleFocusSearchBar=r;f.setSearchInputNode=s;f.handleScrollIntoView=t;f.handleFilteredRequestsClick=u;f.handleReturnToInboxClick=v;f.impressionOffset=g;f.logNodeImpressions=w;f.checkAndUpdateMessageRequestImpressions=x;f.setter=y;f.onFocus=z;f.renderThread=A;f.handleSelect=B;f.emptyInboxLinkClasses=C;f.component=D;f.make=E;f.jsComponent=c}),null);
__d("MessengerURIListener",["Arbiter","MessengerActions","MessengerURISerializer","PageTransitions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=!1;a={start:function(){g||b("PageTransitions").registerHandler(h,6),g=!0},stop:function(){b("PageTransitions").removeHandler(h,6),g=!1}};function h(a){a=b("MessengerURISerializer").deserialize(a);if(a.notMessenger){b("Arbiter").subscribeOnce("page_transition",function(){g&&b("PageTransitions").registerHandler(h)});return!1}b("PageTransitions").transitionComplete();b("MessengerActions").changeState(a);return!0}e.exports=a}),null);
__d("MessengerGamesPlayGameLink.react",["ix","cx","Bootloader","BootloadOnRender.react","JSResource","LazyComponent.react","Link.react","MercuryIDs","MessengerDialogs.bs","React","asset","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={playerOpen:!1},d.$1=function(a){if(d.state.playerOpen)return;d.props.onClick&&d.props.onClick(a);b("Bootloader").loadModules(["MessengerGamesQuicksilverPlayerContainer.react"],function(a){b("MessengerDialogs.bs").showDialog(function(){var c=b("MercuryIDs").getThreadFBIDFromThreadID(d.props.threadID),e=d.props.contextType,f=d.props.contextSourceID;e||(e="THREAD",f=c);return b("React").jsx(a,{initialContextType:e,initialContextSourceID:f,initialEntryPointData:d.props.payload,initialGameID:d.props.gameID,onHide:d.$2,initialSource:d.props.source||"unknown",sourceID:c,threadID:d.props.threadID,invitationID:d.props.invitationID},d.props.gameID)})},"MessengerGamesPlayGameLink.react");d.$3()},d.$2=function(){b("MessengerDialogs.bs").removeAllDialogs(),d.setState({playerOpen:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.props.onResize()};d.render=function(){return b("React").jsx("div",{children:b("React").jsxs(b("Link.react"),{className:this.props.className,onClick:this.$1,children:[this.props.showGameImage?b("React").jsx("div",{className:"_46b2",children:b("React").jsx(b("BootloadOnRender.react"),{loader:b("JSResource")("Image.react").__setRef("MessengerGamesPlayGameLink.react"),placeholder:b("React").jsx("div",{}),component:b("React").jsx(b("LazyComponent.react"),{className:"_2pih",src:g("529301")})})}):null,this.props.title]})})};d.$3=function(){this.setState({playerOpen:!0})};return c}(b("React").PureComponent);a.defaultProps={showGameImage:!1,onResize:b("emptyFunction")};e.exports=a}),null);
__d("GraphQLMessengerPlatformCtaPostHandlingWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1570574486349284"};b.getQueryID=function(){return"389945858066688"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("XMNCommerceCTAPostProcessController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/cta/postprocess/",{cta_id:{type:"String",required:!0},message_id:{type:"String"}})}),null);
__d("MNCommerceCTAProcessor",["AsyncRequest","CurrentUser","GraphQLMessengerPlatformCtaPostHandlingWebGraphQLMutation","MessengerPlatformClientTypedLogger","PopupWindow","XMNCommerceCTAPostProcessController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){}var c=a.prototype;c.process=function(a,c){c===void 0&&(c=null);var d=b("PopupWindow").open("",500,1024);a=b("XMNCommerceCTAPostProcessController").getURIBuilder().setString("cta_id",a).setString("message_id",c).getURI();new(b("AsyncRequest"))().setURI(a).setMethod("POST").setHandler(function(a){return d.location=a.payload}).send()};c.postHandle=function(a,c){a=b("GraphQLMessengerPlatformCtaPostHandlingWebGraphQLMutation").getURI({cta_id:a,message_id:c});new(b("AsyncRequest"))().setURI(a).send()};c.logCTAClick=function(a){var c,d;d=(d=a)!=null?d.logging_token:d;var e=d?JSON.parse(d).click_source:"UNKNOWN";e={action_id:(c=a)!=null?c.id:c,action_title:((c=a)!=null?c.action_title:c)||((c=a)!=null?c.title:c)||((c=a)!=null?c.translated_title:c),action_type:(c=a)!=null?c.action_type:c,action_url:((c=a)!=null?c.action_url:c)||((c=a)!=null?c.action_link:c),click_source:e,page_id:(c=a)!=null?c.page_id:c};new(b("MessengerPlatformClientTypedLogger"))().setClientUserID(b("CurrentUser").getID()).setName("did_tap_call_to_action").setExtraClientData(JSON.stringify(e)).setLoggingToken(d).log()};return a}();e.exports=new a()}),null);
__d("MNCommerceCallToActionGenericIntentHandler",["cx","fbt","FDSLink.react","MNCommerceCTAProcessor","React","Tooltip","URI","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;a=function(){__p&&__p();function a(){this.fallbackOnClick=function(){},this.onClickHook=function(){},this.threadID=null}var c=a.prototype;c.setFallbackOnClick=function(a){this.fallbackOnClick=a;return this};c.setThreadID=function(a){a&&(this.threadID=a);return this};c.setOnClickHook=function(a){this.onClickHook=a;return this};c.renderForWebLink=function(a,c){var d=this,e=a.onClick||this.fallbackOnClick,f=function(c){d.onClickHook(),e(c),b("MNCommerceCTAProcessor").postHandle(a.id,null)};return b("React").jsx(b("FDSLink.react"),{display:"block",href:new(i||(i=b("URI")))(a.onClick?"#":a.action_link||a.action_url),onClick:f,target:"_blank",children:b("React").jsx("div",{className:c,children:a.translated_title||a.title||a.action_title})},a.title+a.id)};c.renderForNativeLink=function(a,c){var d=h._("Per usare questa funzione, usa l'app Messenger.");return b("React").jsx("div",babelHelpers["extends"]({className:b("joinClasses")("_3cno",c),"data-tooltip-alignh":"center","data-tooltip-position":"above"},b("Tooltip").propsFor(d),{children:a.translated_title||a.title||a.action_title}),a.title)};return a}();e.exports=a}),null);
__d("BuyOnMessengerCallToActionIntentHandler",["Link.react","MNCommerceCallToActionGenericIntentHandler","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.renderForWebLink=function(a,b){return this.$BuyOnMessengerCallToActionIntentHandler1(a,b)};d.renderForNativeLink=function(a,b){return this.$BuyOnMessengerCallToActionIntentHandler1(a,b)};d.$BuyOnMessengerCallToActionIntentHandler1=function(a,c){return b("React").jsx(b("Link.react"),{className:c,onClick:a.onClick,children:a.translated_title||a.title},a.title+a.id)};return c}(b("MNCommerceCallToActionGenericIntentHandler"));e.exports=new a()}),null);
__d("MMeCallToActionIntentHandler",["MNCommerceCallToActionGenericIntentHandler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.renderForNativeLink=function(a,b){return this.renderForWebLink(a,b)};return b}(b("MNCommerceCallToActionGenericIntentHandler"));e.exports=a}),null);
__d("MNCommerceCallToActionAsyncIntentHandler",["AsyncRequest","Link.react","MNCommerceCallToActionGenericIntentHandler","React"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.renderForWebLink=function(a,b){return this.$MNCommerceCallToActionAsyncIntentHandler1(a,b)};d.renderForNativeLink=function(a,b){return this.$MNCommerceCallToActionAsyncIntentHandler1(a,b)};d.$MNCommerceCallToActionAsyncIntentHandler1=function(a,c){var d=function(){new(b("AsyncRequest"))(a.action_link).send()};return b("React").jsx(b("Link.react"),{className:c,onClick:d,children:a.translated_title||a.title},a.title+a.id)};return c}(b("MNCommerceCallToActionGenericIntentHandler"));e.exports=a}),null);
__d("MessengerPlayGameCallToActionHelper",["URI"],(function(a,b,c,d,e,f){__p&&__p();var g;e.exports={parseMetadata:function(a){var b,c,d;d=(d=a)!=null?d.instantgame_gameid:d;if(!d)return null;c=(c=a)!=null?c.instantgame_payload:c;b=(b=a)!=null?b.instantgame_context_type:b;a=(a=a)!=null?a.instantgame_context_id:a;return{contextSourceID:a,contextType:b,gameID:d,payload:c}},parseActionLink:function(a){a=new(g||(g=b("URI")))(a).getQueryData();if(!a)return null;var c=a.game_id;if(!c)return null;var d=a.payload,e=a.context_type,f=a.context_id;a=(a=a)!=null?a.source:a;return{contextSourceID:f,contextType:e,gameID:c,payload:d,source:a}}}}),null);
__d("MessengerPlayGameCallToActionIntentHandler",["cx","invariant","MercuryIDs","MessengerGamesPlayGameLink.react","MessengerPlayGameCallToActionHelper","MNCommerceCallToActionGenericIntentHandler","React","joinClasses"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.renderForWebLink=function(a,b){return this.$MessengerPlayGameCallToActionIntentHandler1(a,b)};d.renderForNativeLink=function(a,b){return this.$MessengerPlayGameCallToActionIntentHandler1(a,b)};d.$MessengerPlayGameCallToActionIntentHandler1=function(a,c){__p&&__p();var d,e,f,g=this.threadID||"";f=(f=a)!=null?f.instantgame_metadata:f;e=(e=a)!=null?e.action_link:e;var i=null;f?i=b("MessengerPlayGameCallToActionHelper").parseMetadata(f):e&&(i=b("MessengerPlayGameCallToActionHelper").parseActionLink(e));if(!i)return b("React").jsx("div",{});f=i.gameID;f||h(0,3211);e=i.contextSourceID;var j=i.contextType;d=(d=i)!=null?d.source:d;j||(j="THREAD",e=b("MercuryIDs").getThreadFBIDFromThreadID(g));return b("React").jsx(b("MessengerGamesPlayGameLink.react"),{className:b("joinClasses")(c,"_fy2"),contextSourceID:e,contextType:j,gameID:f,onClick:this.onClickHook,payload:i.payload||void 0,source:d||"call_to_action",threadID:g,title:a.translated_title||a.title},a.title+a.id)};return c}(b("MNCommerceCallToActionGenericIntentHandler"));e.exports=a}),null);
__d("MNCommerceCallToActionHandlerMap",["BuyOnMessengerCallToActionIntentHandler","MessengerPlayGameCallToActionIntentHandler","MMeCallToActionIntentHandler","MNCommerceCallToActionAsyncIntentHandler","MNCommerceCallToActionGenericIntentHandler","URI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h={"fb-messenger://payments/buy/mc?":b("BuyOnMessengerCallToActionIntentHandler"),"fb-messenger://business/commerce/":b("BuyOnMessengerCallToActionIntentHandler"),"fb-messenger://instant_games/play":b("MessengerPlayGameCallToActionIntentHandler"),"https://m.me/":b("MMeCallToActionIntentHandler")};function a(a){for(var c in h)if(a.startsWith(c)){var d=h[c];return new d()}return new(g||(g=b("URI")))(a).getQueryData().async?new(b("MNCommerceCallToActionAsyncIntentHandler"))():new(b("MNCommerceCallToActionGenericIntentHandler"))()}e.exports={getHandler:a}}),null);
__d("WorkGalahadDropdownMenuHelper",["React","WorkGalahadDropdownMenuItem.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={createItemsFromSections:function(a,c){c===void 0&&(c="separator");return a.reduce(function(a,d){if(d.length===0)return a;if(a.length===0)return d;var e=a.length;return[].concat(a,[b("React").jsx(b("WorkGalahadDropdownMenuItem.react").Separator,{},c+"-"+e)],d)},[])}};e.exports=a}),null);
__d("WorkGalahadAppTabChatsAction.react",["ix","fbt","Image.react","Link.react","MessengerURIConstants","React","WIGCircleButton.react","WIGTooltip.react","WorkGalahadChatsThreadlistMenu","asset","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("WorkGalahadChatsThreadlistMenu").openSettingsDialog,j=h._("Crea nuova chat"),k=h._("Impostazioni");function a(){return b("React").jsx(b("Link.react"),{"aria-label":j,href:b("MessengerURIConstants").FACEBOOK_PREFIX+b("MessengerURIConstants").COMPOSE_SUBPATH,children:b("React").jsx(b("Image.react"),{src:g("470511")})})}function c(){return b("React").jsx(b("WIGTooltip.react"),{position:"above",tooltip:j,children:b("React").jsx(b("WIGCircleButton.react"),{label:j,icon:b("fbicon")._(g("507172"),20),size:36,linkProps:{url:b("MessengerURIConstants").FACEBOOK_PREFIX+b("MessengerURIConstants").COMPOSE_SUBPATH}})})}function d(a){var c=a.viewer;return b("React").jsx(b("WIGTooltip.react"),{position:"above",tooltip:k,children:b("React").jsx(b("WIGCircleButton.react"),{label:k,icon:b("fbicon")._(g("497567"),20),size:36,onPress:function(){i(c)}})})}e.exports={DefaultAction:a,PrimaryActionForChannelHeader:c,SecondaryActionForChannelHeader:d}}),null);
__d("AtSignAllowEmptyMentionsStrategy",["DocumentMentionsRegex"],(function(a,b,c,d,e,f){__p&&__p();a=b("DocumentMentionsRegex").PUNCTUATION;c=["@","\\uff20"].join("");d="[^"+c+a+"\\s]";f="(?:\\.[ |$]| |["+a+"]|)";var g=new RegExp("(?:^|\\s|[(\\/])(["+c+"]((?:"+d+f+"){0,20}))$");b={name:"AtSignAllowEmptyMentionsStrategy",findMentionableString:function(a){a=g.exec(a);if(a!==null){var b=a[2];return{matchingString:b,leadOffset:a[1].length}}return null}};e.exports=b}),null);
__d("MercuryGenericConstants",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MAX_THREAD_NAME_LENGTH:250,MAX_GROUP_THREAD_DESCRIPTION_LENGTH:1e3})}),null);